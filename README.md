# MP3-Study

An MP3 audio encoder / MP3音频编码器

## 介绍

MP3编码器学习、研究、开发项目。目标是实现可用的 MPEG-1 Audio Layer 3 (MP3) 音频编码器。

## 研发日志

|日期|进展|
|:----|:----|
|2019.11.01|确立“三大攻坚战”目标[注]，项目启动，开始资料调研工作|
|2019.11.07|建立仓库“Otonashi”|
|2019.11.09|实现WAV解析、播放和频谱显示|
|2019.11.14|实现低通滤波（支线工作）|
|2019.11.16|初步实现分析子带滤波器|
|2019.11.21|开始开发第二心理声学模型|
|2019.11.23|分析子带滤波器可视化|
|2019.11.27|实现MDCT和长块去混叠|
|2019.11.29|开始开发内/外层循环和哈夫曼编解码|
|2019.12.04|切换到新仓库，并更名为“MP3-Study”|
|2019.12.24|实现比特储备机制|
|2020.01.05|实现比特流组装|
|2020.01.07|输出第一个合式MP3文件|
|2020.01.14|【里程碑】修正若干重大错误，尝试编码若干个完整的音乐文件，效果不错|
|进行中|排除短块错误|
|进行中|实现第二心理声学模型|
|进行中|实现外层循环的预加重环节|
|进行中|给项目起个好听的名字（|
|进行中|完善项目文档|
|进行中|进一步测试，尽可能排除所有已知故障，处理掉所有TODO|
|进行中|完成以上工作后，发布第一个基线版本（V0.1.0）|

[注] “三大攻坚战”指 ①实现图像编解码器（原理验证原型）；②实现完整、可用的MP3编码器；③深入理解H.264视频编解码标准和原理，并基于①的成果，实现若干原理验证原型。

## 研发方针

- 跳过 Layer 1 和 Layer 2，直接实现 Layer 3（即MP3）。跳过第一心理声学模型，直接实现第二心理声学模型。
- 自底向上，实现驱动的研究。先实现标准要求的算法，再研究算法背后的理论原理（尤其是PAM部分）。
- 忽略可选的、不重要的特性。
- 代码即文档。
- 不设计划，不设时间表。

不打算实现（但是要理解原理）的特性如下：

- 联合立体声
- 混合块
- 尺度因子预测（scfsi）
- VBR
- 回放增益

## 可视化

- [MDCT所使用的4种窗口及其转换](https://mikukonai.com/MP3-Study/demo/MDCT-windows.html)
- [低通滤波](https://mikukonai.com/MP3-Study/demo/LPF.html)（支线任务）
- [分析子带滤波器组](https://mikukonai.com/MP3-Study/demo/Filterbank.html)

## 研究笔记

![编码器框图](./documentation/mp3-encoder-diagram.png)

![码率和噪声控制循环](./documentation/mp3-qloop.png)

![帧结构](./documentation/mp3-frame.png)

- [分析子带滤波器组](./documentation/分析子带滤波器组.md)
- [心理声学模型](./documentation/心理声学模型.md)
- [发表在博客上的研究笔记](https://mikukonai.com/#/wiki/MP3%E7%BC%96%E8%A7%A3%E7%A0%81%E5%8E%9F%E7%90%86)

